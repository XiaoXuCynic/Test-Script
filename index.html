<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ‰‹æœºç‰ˆLuaæ··æ·†å™¨</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: Arial; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 20px; }
        .container { background: white; border-radius: 15px; padding: 25px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); }
        h1 { color: #333; margin-bottom: 20px; text-align: center; }
        textarea { width: 100%; height: 150px; padding: 15px; border: 2px solid #ddd; border-radius: 10px; font-size: 16px; margin: 15px 0; }
        button { background: #4CAF50; color: white; padding: 15px; border: none; border-radius: 10px; font-size: 18px; width: 100%; margin: 10px 0; }
        .result { background: #f0f8ff; padding: 15px; border-radius: 10px; margin-top: 20px; font-family: monospace; }
        .stats { display: flex; justify-content: space-between; margin-top: 20px; color: #666; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“± Luaè„šæœ¬æ··æ·†å™¨</h1>
        
        <textarea id="codeInput" placeholder="ç²˜è´´Luaä»£ç ...">local player = game:GetService("Players").LocalPlayer
print("Hello, " .. player.Name)</textarea>
        
        <button onclick="obfuscate()">å¼€å§‹æ··æ·†</button>
        <button onclick="clearCode()" style="background: #f44336;">æ¸…ç©ºä»£ç </button>
        
        <div class="result" id="result">ç­‰å¾…æ··æ·†...</div>
        
        <div class="stats">
            <div>å­—ç¬¦æ•°: <span id="charCount">0</span></div>
            <div id="serverStatus">âšª ç¦»çº¿</div>
        </div>
        
        <div style="margin-top: 20px; text-align: center; color: #888;">
            <p>éƒ¨ç½²åœ¨GitHub Pages</p>
            <p id="pageUrl">æ­£åœ¨è·å–åœ°å€...</p>
        </div>
    </div>

    <script>
        // è‡ªåŠ¨æ›´æ–°å­—ç¬¦æ•°
        document.getElementById('codeInput').addEventListener('input', function() {
            document.getElementById('charCount').textContent = this.value.length;
        });

        // æ··æ·†å‡½æ•°ï¼ˆçº¯å‰ç«¯ç‰ˆæœ¬ï¼‰
        function obfuscateLua(code) {
            let result = code;
            // ç®€å•æ··æ·†
            result = result.replace(/--.*/g, ''); // ç§»é™¤æ³¨é‡Š
            result = result.replace(/local\s+(\w+)/g, function(match, p1) {
                return `local _${Math.random().toString(36).substr(2, 5)}`;
            });
            return `-- æ··æ·†åçš„ä»£ç \n-- ç”Ÿæˆæ—¶é—´: ${new Date().toLocaleString()}\n\n${result}`;
        }

        async function obfuscate() {
            const code = document.getElementById('codeInput').value;
            if (!code.trim()) {
                alert('è¯·è¾“å…¥ä»£ç ');
                return;
            }

            document.getElementById('result').innerHTML = 'ğŸ”„ æ­£åœ¨æ··æ·†...';
            
            // æ¨¡æ‹Ÿå¤„ç†æ—¶é—´
            setTimeout(() => {
                const obfuscated = obfuscateLua(code);
                document.getElementById('result').innerHTML = 
                    `<h3>âœ… æ··æ·†å®Œæˆ:</h3><pre>${obfuscated}</pre>
                     <button onclick="copyCode()" style="background: #2196F3; margin-top: 10px;">å¤åˆ¶ä»£ç </button>`;
            }, 800);
        }

        function clearCode() {
            if (confirm('ç¡®å®šè¦æ¸…ç©ºä»£ç å—ï¼Ÿ')) {
                document.getElementById('codeInput').value = '';
                document.getElementById('charCount').textContent = '0';
                document.getElementById('result').innerHTML = 'ç­‰å¾…æ··æ·†...';
            }
        }

        function copyCode() {
            const text = document.querySelector('#result pre').textContent;
            navigator.clipboard.writeText(text).then(() => {
                alert('âœ… ä»£ç å·²å¤åˆ¶åˆ°å‰ªè´´æ¿');
            });
        }

        // æ˜¾ç¤ºå½“å‰é¡µé¢åœ°å€
        document.getElementById('pageUrl').textContent = window.location.href;
        document.getElementById('serverStatus').innerHTML = 'ğŸŸ¢ åœ¨çº¿';
        document.getElementById('serverStatus').style.color = '#4CAF50';
    </script>
</body>
</html>
